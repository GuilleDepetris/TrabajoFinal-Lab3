(function(){"use strict";var a={7762:function(a,e,t){var n=t(5130),o=t(6768),r=t(4232);function c(a,e,t,n,c,s){const i=(0,o.g2)("HeaderGeneral"),d=(0,o.g2)("DarkMode"),l=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.CE)("div",{class:(0,r.C4)([{"dark-mode":c.darkMode},"dark"])},[c.mostrar?((0,o.uX)(),(0,o.Wv)(i,{key:0})):(0,o.Q3)("",!0),(0,o.bF)(d),(0,o.bF)(l)],2)}const s={key:0,class:"fas fa-sun"},i={key:1,class:"fas fa-moon"};function d(a,e,t,n,r,c){return(0,o.uX)(),(0,o.CE)("button",{onClick:e[0]||(e[0]=(...a)=>c.activarDarkMode&&c.activarDarkMode(...a))},[c.darkMode?((0,o.uX)(),(0,o.CE)("i",i)):((0,o.uX)(),(0,o.CE)("i",s))])}var l={computed:{darkMode(){return"true"===localStorage.getItem("darkMode")}},methods:{activarDarkMode(){const a=!this.darkMode;localStorage.setItem("darkMode",a),window.location.reload()}}},u=t(1241);const p=(0,u.A)(l,[["render",d],["__scopeId","data-v-61627e8a"]]);var h=p;const m=a=>((0,o.Qi)("data-v-29a01800"),a=a(),(0,o.jt)(),a),b={class:"header1"},v={class:"contenedor-links"},k=m((()=>(0,o.Lk)("h2",null,"Crypto Market",-1))),y={class:"header2"},C=m((()=>(0,o.Lk)("h2",null,"Crypto Market",-1))),f={key:0},g={class:"contenedor-links2"};function L(a,e,t,n,r,c){const s=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("header",b,[(0,o.Lk)("nav",v,[(0,o.bF)(s,{to:"/precioList"},{default:(0,o.k6)((()=>[(0,o.eW)("Precios")])),_:1}),(0,o.bF)(s,{to:"/transacciones"},{default:(0,o.k6)((()=>[(0,o.eW)("Transacciones")])),_:1}),(0,o.bF)(s,{to:"/movimientos"},{default:(0,o.k6)((()=>[(0,o.eW)("Movimientos")])),_:1}),k,(0,o.bF)(s,{to:"/analisisEstado"},{default:(0,o.k6)((()=>[(0,o.eW)("Billetera")])),_:1}),(0,o.bF)(s,{to:"/analisisDeInversion"},{default:(0,o.k6)((()=>[(0,o.eW)("Inversiones")])),_:1}),(0,o.bF)(s,{to:"/"},{default:(0,o.k6)((()=>[(0,o.eW)("Cerrar Sesión")])),_:1})])]),(0,o.Lk)("header",y,[C,r.bandera?((0,o.uX)(),(0,o.CE)("div",f,[(0,o.Lk)("nav",g,[(0,o.bF)(s,{to:"/"},{default:(0,o.k6)((()=>[(0,o.eW)("Precios")])),_:1}),(0,o.bF)(s,{to:"/transacciones"},{default:(0,o.k6)((()=>[(0,o.eW)("Transacciones")])),_:1}),(0,o.bF)(s,{to:"/movimientos"},{default:(0,o.k6)((()=>[(0,o.eW)("Movimientos")])),_:1}),(0,o.bF)(s,{to:"/analisisEstado"},{default:(0,o.k6)((()=>[(0,o.eW)("Billetera")])),_:1}),(0,o.bF)(s,{to:"/analisisDeInversion"},{default:(0,o.k6)((()=>[(0,o.eW)("Inversiones")])),_:1}),(0,o.bF)(s,{to:"/sigin"},{default:(0,o.k6)((()=>[(0,o.eW)("Cerrar Sesión")])),_:1})])])):(0,o.Q3)("",!0),(0,o.Lk)("i",{class:"fa-solid fa-bars",onClick:e[0]||(e[0]=(...a)=>c.barraLinks&&c.barraLinks(...a)),id:"icono-barra"})])],64)}var T={name:"HeaderG",components:{},data(){return{bandera:!1}},methods:{barraLinks(){0==this.bandera?this.bandera=!0:this.bandera=!1}}};const _=(0,u.A)(T,[["render",L],["__scopeId","data-v-29a01800"]]);var E=_,F={components:{HeaderGeneral:E,DarkMode:h},data(){return{mostrar:!0,darkMode:"true"===localStorage.getItem("darkMode")}}};const S=(0,u.A)(F,[["render",c]]);var I=S,X=t(1387);const A={class:"contenedor-precios-general"},P={class:"contenedor-precios"},w=(0,o.Fv)('<h1 class="titulo" data-v-229c131f>Criptomonedas</h1><div class="descripcion" data-v-229c131f><p class="desc1" data-v-229c131f>Nombre</p><p class="desc2" data-v-229c131f>Compra</p><p class="desc3" data-v-229c131f>Venta</p></div>',2);function j(a,e,t,n,r,c){const s=(0,o.g2)("PrecioCard");return(0,o.uX)(),(0,o.CE)("div",A,[(0,o.Lk)("div",P,[w,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(r.valoresCryptos,((e,t)=>((0,o.uX)(),(0,o.Wv)(s,{key:e.id,valorCrypto:e,nombreCryptosC:a.nombreCryptosC,nombreCryptos:a.nombreCryptos,index:t,class:"cryptos"},null,8,["valorCrypto","nombreCryptosC","nombreCryptos","index"])))),128))])])}t(4114);const V={class:"precio-card"},$={class:"info1"},x={class:"nombre"},M={class:"nombreC"},D={class:"info2"},O={class:"precioC"},Q={class:"info3"},W={class:"precioV"};function N(a,e,t,n,c,s){return(0,o.uX)(),(0,o.CE)("div",V,[(0,o.Lk)("div",$,[(0,o.Lk)("p",x,(0,r.v_)(t.nombreCryptos[t.index].toUpperCase()),1),(0,o.Lk)("p",M,(0,r.v_)(t.nombreCryptosC[t.index]),1)]),(0,o.Lk)("div",D,[(0,o.Lk)("p",O,(0,r.v_)(t.valorCrypto.PrecioC),1)]),(0,o.Lk)("div",Q,[(0,o.Lk)("p",W,(0,r.v_)(t.valorCrypto.PrecioV),1)])])}var U={name:"PrecioCard",props:{valorCrypto:Object,nombreCryptosC:Object,index:Number,nombreCryptos:Object}};const B=(0,u.A)(U,[["render",N],["__scopeId","data-v-34fa3f01"]]);var G=B,R=t(4373);const K=R.A.create({baseURL:"https://laboratorio-afe2.restdb.io/rest/",headers:{"x-apikey":"650b53356888544ec60c00bf"}}),z=R.A.create({baseURL:"https://criptoya.com/api",headers:{"Content-Type":"application/json"}});var H={getTransactions(){const a=localStorage.getItem("usuario");return K.get(`/transactions?q={"user_id":"${a}"}`)},getTransaction(a){return K.get(`/transactions/${a}`)},deleteTransaction(a){return K.delete(`/transactions/${a}`)},editarTransaction(a,e){return K.patch(`/transactions/${a}`,e)},postTransactions(a){return K.post("/transactions",a)},getPrecios(){return z}},q=t(782),J={name:"PrecioList",components:{PrecioCard:G},data(){return{valoresCryptos:[]}},created(){this.obtencionPrecios(),setInterval((()=>{this.obtencionPrecios()}),1e4)},methods:{async obtencionPrecios(){this.valoresCryptos=[];for(let e of this.nombreCryptos)try{const a=await H.getPrecios().get(`/binance/${e}/ars`);let t=a.data.totalAsk.toFixed(2),n=a.data.totalBid.toFixed(2),o={Crypto:e,PrecioC:t,PrecioV:n};this.valoresCryptos.push(o)}catch(a){console.error(`Error al obtener datos para ${e}:`,a)}}},computed:{...(0,q.aH)(["nombreCryptos","nombreCryptosC"])}};const Y=(0,u.A)(J,[["render",j],["__scopeId","data-v-229c131f"]]);var Z=Y;const aa=a=>((0,o.Qi)("data-v-529447ea"),a=a(),(0,o.jt)(),a),ea={class:"contenedor"},ta={class:"formulario"},na=aa((()=>(0,o.Lk)("h1",null,"Crypto Market",-1))),oa={action:"#"},ra=aa((()=>(0,o.Lk)("h3",null,"Iniciar sesión",-1))),ca={class:"input-contenedor"},sa=aa((()=>(0,o.Lk)("i",{class:"fa-solid fa-user"},null,-1))),ia=aa((()=>(0,o.Lk)("label",null,"Nombre de Usuario",-1))),da={class:"input-contenedor"},la=aa((()=>(0,o.Lk)("i",{class:"fa-solid fa-lock"},null,-1))),ua=aa((()=>(0,o.Lk)("label",null,"Contraseña",-1))),pa={class:"contenedor-btnAcceder"},ha={class:"respuesta"},ma=aa((()=>(0,o.Lk)("div",{class:"registrar"},[(0,o.Lk)("p",null,[(0,o.eW)("No tengo cuenta"),(0,o.Lk)("a",{href:""}," Crear una")])],-1)));function ba(a,e,t,c,s,i){return(0,o.uX)(),(0,o.CE)("section",null,[(0,o.Lk)("div",ea,[(0,o.Lk)("div",ta,[na,(0,o.Lk)("form",oa,[ra,(0,o.Lk)("div",ca,[sa,(0,o.bo)((0,o.Lk)("input",{type:"text",name:"usuario","onUpdate:modelValue":e[0]||(e[0]=a=>s.usuarioId=a)},null,512),[[n.Jo,s.usuarioId]]),ia]),(0,o.Lk)("div",da,[la,(0,o.bo)((0,o.Lk)("input",{type:"password",name:"contraseña","onUpdate:modelValue":e[1]||(e[1]=a=>s.contraseña=a)},null,512),[[n.Jo,s.contraseña]]),ua])]),(0,o.Lk)("div",pa,[(0,o.Lk)("button",{class:"btnAcceder",onClick:e[2]||(e[2]=a=>i.acceder())},"Acceder"),(0,o.Lk)("p",ha,(0,r.v_)(s.msj),1),ma])])])])}var va={name:"SigIn",data(){return{"contraseña":"",usuarioId:"",bandera1:!1,msj:""}},created(){this.mostrarHeader()},methods:{...(0,q.PY)(["agregarUsuario"]),acceder(){""!==this.usuarioId&&this.contraseña.length>6?(localStorage.setItem("usuario",this.usuarioId),this.$root.mostrar=!0,this.$router.push("/precioList")):this.msj="Usuario o contraseña incorrectos"},mostrarHeader(){this.$root.mostrar=!1}}};const ka=(0,u.A)(va,[["render",ba],["__scopeId","data-v-529447ea"]]);var ya=ka;const Ca=a=>((0,o.Qi)("data-v-a833889c"),a=a(),(0,o.jt)(),a),fa={class:"container-transaccion"},ga=Ca((()=>(0,o.Lk)("h2",{class:"titulo-transacciones"},"Transacciones",-1))),La={class:"transaccion"},Ta=Ca((()=>(0,o.Lk)("option",{value:"",disabled:"",selected:""}," Seleccione una criptomoneda ",-1))),_a=["value"],Ea={class:"calcular-valor"},Fa=Ca((()=>(0,o.Lk)("br",null,null,-1))),Sa={class:"btnsTransaccion"},Ia=["disabled"],Xa=["disabled"],Aa={key:0,class:"pregunta-confirmacion"},Pa={class:"btnsConfirmar"},wa={key:1},ja={class:"cryptoInsuficiente"},Va={key:0,class:"msj-Compra"};function $a(a,e,t,c,s,i){return(0,o.uX)(),(0,o.CE)("div",fa,[ga,(0,o.Lk)("div",La,[(0,o.Lk)("form",null,[(0,o.bo)((0,o.Lk)("input",{type:"number","onUpdate:modelValue":e[0]||(e[0]=a=>s.cantidad=a),class:"input-cantidad"},null,512),[[n.Jo,s.cantidad]]),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":e[1]||(e[1]=a=>s.cryptoSeleccionada=a),class:"input-select"},[Ta,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(a.nombreCryptos,((a,e)=>((0,o.uX)(),(0,o.CE)("option",{value:a,key:e},(0,r.v_)(a),9,_a)))),128))],512),[[n.u1,s.cryptoSeleccionada]])])]),(0,o.Lk)("div",Ea,[(0,o.Lk)("button",{onClick:e[2]||(e[2]=a=>i.calcularValor())},"Calcular"),Fa,(0,o.Lk)("p",null,"Compra: "+(0,r.v_)(s.compraF),1),(0,o.Lk)("p",null,"Venta: "+(0,r.v_)(s.ventaF),1),(0,o.Lk)("p",null,(0,r.v_)(s.msj),1)]),(0,o.Lk)("div",Sa,[(0,o.Lk)("button",{onClick:e[3]||(e[3]=a=>i.comprar()),disabled:!s.estadoBoton},"Comprar",8,Ia),(0,o.Lk)("button",{onClick:e[4]||(e[4]=a=>i.verificarCant(s.cryptoSeleccionada)),disabled:!s.estadoBoton}," Vender ",8,Xa)]),s.bandera1?((0,o.uX)(),(0,o.CE)("div",Aa,[(0,o.Lk)("div",Pa,[(0,o.Lk)("p",null," ¿Seguro que quieres vender "+(0,r.v_)(s.cantidad)+" de "+(0,r.v_)(s.cryptoSeleccionada)+"? ",1),(0,o.Lk)("button",{onClick:e[5]||(e[5]=a=>i.vender()),class:"btnAceptar"},"Aceptar"),(0,o.Lk)("button",{onClick:e[6]||(e[6]=a=>i.cancelar()),class:"btnCancelar"},"Cancelar")])])):(0,o.Q3)("",!0),s.bandera2?((0,o.uX)(),(0,o.CE)("div",wa,[(0,o.Lk)("p",ja," ¡No tienes suficiente "+(0,r.v_)(s.cryptoSeleccionada)+" para vender! ",1)])):(0,o.Q3)("",!0),(0,o.Lk)("div",null,[s.bandera3?((0,o.uX)(),(0,o.CE)("p",Va,(0,r.v_)(s.msj2),1)):(0,o.Q3)("",!0)])])}var xa={name:"FormularioTransacciones",components:{},data(){return{valoresCryptos:[],cantidad:0,cryptoSeleccionada:"",compra:"",venta:"",compraF:"",ventaF:"",msj:"",msj2:"",estadoBoton:!1,transacciones:[],bandera1:!1,bandera2:!1,bandera3:!1}},created(){this.obtencionPrecios(),setInterval((()=>{this.obtencionPrecios()}),1e4)},computed:{...(0,q.aH)(["nombreCryptos","usuario"]),agregarSignoCompra(){return"$ "+this.compraF},agregarSignoVenta(){return"$ "+this.ventaF}},methods:{async obtencionPrecios(){this.valoresCryptos=[];for(let e of this.nombreCryptos)try{const a=await H.getPrecios().get(`/binance/${e}/ars`);let t=a.data.totalAsk.toFixed(2),n=a.data.totalBid.toFixed(2),o={Crypto:e,PrecioC:t,PrecioV:n};this.valoresCryptos.push(o)}catch(a){console.error(`Error al obtener datos para ${e}:`,a)}},calcularValor(){this.msj="",this.bandera1=!1,this.bandera3=!1,this.bandera2=!1;for(let e of this.valoresCryptos)e.Crypto===this.cryptoSeleccionada&&(this.compra=e.PrecioC,this.venta=e.PrecioV);let a=parseFloat(this.cantidad);if(a>=0&&""!=this.cryptoSeleccionada){let e,t;e=this.compra*a,this.compraF="$"+e.toFixed(2),t=this.venta*a,this.ventaF="$"+t.toFixed(2),this.estadoBoton=!0}else this.msj="Cantidad o cryptomoneda incorrecta"},async comprar(){const a=localStorage.getItem("usuario");this.bandera2=!1;const e="comprar",t=await this.verificarCrypto(e),n=t.toFixed(2),o=await this.fecha();if(void 0!=this.cryptoSeleccionada&&this.cantidad>0&&t>0){const e={user_id:a,action:"purchase",crypto_code:this.cryptoSeleccionada,crypto_amount:this.cantidad,money:n,datetime:o};try{const a=await H.postTransactions(e);console.log(a.data),this.msj2="¡Compra realizada correctamente!",this.bandera3=!0}catch(r){console.error("Error en la solicitud POST:",r)}}},async verificarCrypto(a){try{const e=parseFloat(this.cantidad),t=await H.getPrecios().get(`/binance/${this.cryptoSeleccionada}/ars`);let n=0;return"comprar"===a?n=t.data.totalAsk.toFixed(2)*e:"vender"===a&&(n=t.data.totalBid.toFixed(2)*e),n}catch(e){console.error("Error al obtener información de la criptomoneda:",e)}},async verificarCant(a){this.bandera3=!1,this.bandera1=!1;let e=0;const t=await H.getTransactions();this.transacciones=t.data;for(let n of this.transacciones)n.crypto_code===a&&"purchase"===n.action?e+=n.crypto_amount:n.crypto_code===a&&"sale"===n.action&&(e-=n.crypto_amount);e>=this.cantidad?(this.bandera1=!0,this.bandera2=!1):(this.bandera1=!1,this.bandera2=!0)},async vender(){const a=localStorage.getItem("usuario");this.bandera1=!1,this.bandera2=!1;const e="vender",t=await this.verificarCrypto(e),n=t.toFixed(2),o=await this.fecha(),r={user_id:a,action:"sale",crypto_code:this.cryptoSeleccionada,crypto_amount:this.cantidad,money:n,datetime:o};try{const a=await H.postTransactions(r);console.log(a.data),this.msj2="¡Venta realizada correctamente!",this.bandera3=!0}catch(c){console.error("Error en la solicitud POST:",c)}},cancelar(){this.bandera1=!1},fecha(){const a=new Date,e=`${a.getFullYear()}-${String(a.getMonth()+1).padStart(2,"0")}-${String(a.getDate()-1).padStart(2,"0")} ${a.getHours()}:${a.getMinutes()}`;return e}}};const Ma=(0,u.A)(xa,[["render",$a],["__scopeId","data-v-a833889c"]]);var Da=Ma;const Oa=a=>((0,o.Qi)("data-v-d5ceaa16"),a=a(),(0,o.jt)(),a),Qa=Oa((()=>(0,o.Lk)("div",{class:"detalles-compra"},[(0,o.Lk)("p",null,"Moneda"),(0,o.Lk)("p",null,"Acción"),(0,o.Lk)("p",null,"Cantidad"),(0,o.Lk)("p",null,"Precio"),(0,o.Lk)("p",null,"Info")],-1))),Wa={key:0},Na=Oa((()=>(0,o.Lk)("h4",{class:"verificando"},"Cargando transacciones...",-1))),Ua=[Na],Ba={key:2},Ga=Oa((()=>(0,o.Lk)("h4",{class:"verificando"},"No hay transacciones",-1))),Ra=[Ga];function Ka(a,e,t,n,r,c){const s=(0,o.g2)("TransaccionCard");return(0,o.uX)(),(0,o.CE)(o.FK,null,[Qa,r.cargando?((0,o.uX)(),(0,o.CE)("div",Wa,Ua)):this.transacciones.length>0?((0,o.uX)(!0),(0,o.CE)(o.FK,{key:1},(0,o.pI)(r.transacciones,(a=>((0,o.uX)(),(0,o.Wv)(s,{key:a._id,transaccion:a},null,8,["transaccion"])))),128)):r.cargando?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",Ba,Ra))],64)}const za={class:"transac"},Ha={key:0,class:"accionC"},qa={key:1,class:"accionV"},Ja=(0,o.Lk)("i",{class:"fa-solid fa-circle-info"},null,-1),Ya=[Ja],Za={key:0},ae=(0,o.Lk)("div",{class:"fondo-borroso"},null,-1);function ee(a,e,t,n,c,s){const i=(0,o.g2)("detalleTransaccion");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",za,[(0,o.Lk)("p",null,(0,r.v_)(t.transaccion.crypto_code),1),"purchase"===t.transaccion.action?((0,o.uX)(),(0,o.CE)("p",Ha,"Compra")):((0,o.uX)(),(0,o.CE)("p",qa,"Venta")),(0,o.Lk)("p",null,(0,r.v_)(t.transaccion.crypto_amount),1),(0,o.Lk)("p",null,(0,r.v_)(t.transaccion.money),1),(0,o.Lk)("button",{onClick:e[0]||(e[0]=a=>s.detalleId(t.transaccion._id)),class:"boton-detalle"},Ya)]),c.bandera?((0,o.uX)(),(0,o.CE)("div",Za,[ae,c.bandera?((0,o.uX)(),(0,o.Wv)(i,{key:0,onCerrarTransaccionFinal:s.cerrarTransaccion,detalleTransaccion:c.detalleTransaccion},null,8,["onCerrarTransaccionFinal","detalleTransaccion"])):(0,o.Q3)("",!0)])):(0,o.Q3)("",!0)],64)}const te=a=>((0,o.Qi)("data-v-0d415b8d"),a=a(),(0,o.jt)(),a),ne={class:"container-general"},oe={class:"infoTransaccion"},re=te((()=>(0,o.Lk)("h3",null,"Detalles de Transacción",-1))),ce=te((()=>(0,o.Lk)("h4",null,"Pagado",-1))),se=te((()=>(0,o.Lk)("h4",null,"Cantidad",-1))),ie=te((()=>(0,o.Lk)("h4",null,"Fecha de Transaccion",-1)));function de(a,e,t,n,c,s){const i=(0,o.g2)("editarTransaccion");return(0,o.uX)(),(0,o.CE)("div",ne,[(0,o.Lk)("div",null,[(0,o.Lk)("div",oe,[re,(0,o.Lk)("h3",null,(0,r.v_)(s.tipoTransaccion),1),(0,o.Lk)("p",null,(0,r.v_)(t.detalleTransaccion.crypto_code),1),ce,(0,o.Lk)("p",null,(0,r.v_)(t.detalleTransaccion.money),1),se,(0,o.Lk)("p",null,(0,r.v_)(t.detalleTransaccion.crypto_amount),1),ie,(0,o.Lk)("p",null,(0,r.v_)(t.detalleTransaccion.datetime),1)])]),(0,o.bF)(i,{onCerrarTransaccion:s.cerrarTransaccion,idTransaccion:c.idTransaccion},null,8,["onCerrarTransaccion","idTransaccion"])])}const le=a=>((0,o.Qi)("data-v-2aa9d760"),a=a(),(0,o.jt)(),a),ue={class:"container-buttons"},pe={key:0,class:"container-buttons2"},he=le((()=>(0,o.Lk)("p",null,"¿Estás seguro de que deseas eliminar esta transacción?",-1))),me={key:1,class:"container-editar"},be=le((()=>(0,o.Lk)("h3",null,"Editar Transacción",-1))),ve=le((()=>(0,o.Lk)("option",{value:"",disabled:"",selected:""},"Acción",-1))),ke=le((()=>(0,o.Lk)("option",null,"Comprar",-1))),ye=le((()=>(0,o.Lk)("option",null,"Vender",-1))),Ce=[ve,ke,ye],fe=le((()=>(0,o.Lk)("option",{value:"",disabled:"",selected:""},"Criptomonedas",-1))),ge={class:"container-cantidades"},Le=le((()=>(0,o.Lk)("h4",null,"Cantidad",-1))),Te=["placeholder"],_e=le((()=>(0,o.Lk)("h4",null,"Pagado",-1))),Ee=["placeholder"],Fe=le((()=>(0,o.Lk)("h4",null,"Fecha de Transaccion",-1))),Se={class:"container-buttons3"},Ie={class:"edicionExitosa"};function Xe(a,e,t,c,s,i){return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",ue,[(0,o.Lk)("button",{onClick:e[0]||(e[0]=a=>i.datosTransaccion())},"Editar"),(0,o.Lk)("button",{onClick:e[1]||(e[1]=a=>i.confirmarEliminacion())},"Eliminar"),(0,o.Lk)("button",{onClick:e[2]||(e[2]=a=>i.cerrarTransaccion())},"Cerrar")]),s.bandera1?((0,o.uX)(),(0,o.CE)("div",pe,[he,(0,o.Lk)("button",{onClick:e[3]||(e[3]=a=>i.eliminarTransaccion())},"Aceptar"),(0,o.Lk)("button",{onClick:e[4]||(e[4]=a=>i.cancelar())},"Cancelar")])):(0,o.Q3)("",!0),s.bandera?((0,o.uX)(),(0,o.CE)("div",me,[(0,o.Lk)("div",null,[be,(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":e[5]||(e[5]=a=>s.accionSeleccionada=a),class:"input-select-accion",required:""},Ce,512),[[n.u1,s.accionSeleccionada]]),(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":e[6]||(e[6]=a=>s.cryptoSeleccionada=a),class:"input-select-crypto",required:""},[fe,((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(a.nombreCryptos,((a,e)=>((0,o.uX)(),(0,o.CE)("option",{key:e},(0,r.v_)(a),1)))),128))],512),[[n.u1,s.cryptoSeleccionada]]),(0,o.Lk)("div",ge,[(0,o.Lk)("div",null,[Le,(0,o.bo)((0,o.Lk)("input",{type:"number","onUpdate:modelValue":e[7]||(e[7]=a=>s.cantidadRecibida=a),placeholder:this.cantidadRecAnterior},null,8,Te),[[n.Jo,s.cantidadRecibida]])]),(0,o.Lk)("div",null,[_e,(0,o.bo)((0,o.Lk)("input",{type:"number","onUpdate:modelValue":e[8]||(e[8]=a=>s.cantidadPagada=a),placeholder:this.cantidadPagAnterior,class:"input-number"},null,8,Ee),[[n.Jo,s.cantidadPagada]])])]),Fe,(0,o.bo)((0,o.Lk)("input",{type:"date",id:"fecha",name:"fecha","onUpdate:modelValue":e[9]||(e[9]=a=>s.fechaCamb=a)},null,512),[[n.Jo,s.fechaCamb]]),(0,o.Lk)("div",Se,[(0,o.Lk)("button",{onClick:e[10]||(e[10]=a=>i.editarTransaccion())},"Aceptar"),(0,o.Lk)("button",{onClick:e[11]||(e[11]=a=>i.cancelarEdicion())},"Cancelar"),(0,o.Lk)("p",Ie,(0,r.v_)(s.msj),1)])])])):(0,o.Q3)("",!0)],64)}var Ae={name:"editarTransaccion",props:{idTransaccion:String},emits:["cerrar-transaccion"],data(){return{cryptoSeleccionada:"",bandera:!1,bandera1:!1,msj:"",transaccion:null,accionSeleccionada:"",cantidadRecAnterior:"",cantidadPagAnterior:"",fechaCamb:"",crypto:"",cantidadRecibida:"",cantidadPagada:""}},computed:{...(0,q.aH)(["nombreCryptos"])},methods:{cerrarTransaccion(){this.$emit("cerrar-transaccion")},async datosTransaccion(){let a=this.idTransaccion;try{const e=await H.getTransaction(a);this.crypto=e.data.crypto_code,this.cantidadRecAnterior=e.data.crypto_amount.toString(),this.cantidadPagAnterior=e.data.money.toString()}catch(e){console.log(e)}this.bandera=!0},confirmarEliminacion(){this.bandera1=!0},async eliminarTransaccion(){let a=this.idTransaccion;try{const e=await H.deleteTransaction(a);console.log("Transacción eliminada:",e.data),this.bandera1=!1,setInterval((()=>{this.$emit("cerrar-transaccion"),window.location.href="/movimientos"}),2500)}catch(e){console.log("Error al eliminar la transacción:",e)}},cancelar(){this.bandera1=!1},async editarTransaccion(){if(void 0!==this.accionSeleccionada&&""!==this.accionSeleccionada&&void 0!==this.cryptoSeleccionada&&""!==this.cryptoSeleccionada&&this.cantidadRecibida>0&&this.cantidadPagada>0&&""!==this.fechaCamb){let e;e="Comprar"===this.accionSeleccionada?"purchase":"sale";let t=this.idTransaccion;const n={action:e,crypto_amount:this.cantidadRecibida,money:this.cantidadPagada,datetime:this.fechaCamb};try{const a=await H.editarTransaction(t,n);console.log("Transacción actualizada:",a.data),this.msj="¡Edición realizada correctamente!",setInterval((()=>{window.location.href="/movimientos"}),2500)}catch(a){console.log(a)}}else console.log("No se pueden editar la transacción. Verifique los datos."),this.msj="No se pueden editar la transacción. Verifique los datos."},cancelarEdicion(){this.bandera=!1}}};const Pe=(0,u.A)(Ae,[["render",Xe],["__scopeId","data-v-2aa9d760"]]);var we=Pe,je={name:"detalleTransaccion",props:{detalleTransaccion:Object},data(){return{idTransaccion:null}},created(){this.detalleTransaccion&&(this.idTransaccion=this.detalleTransaccion._id)},components:{editarTransaccion:we},methods:{cerrarTransaccion(){this.$emit("cerrar-transaccion-final")}},computed:{tipoTransaccion(){return this.detalleTransaccion&&"purchase"===this.detalleTransaccion.action?"Crypto Comprada":"Crypto Vendida"}}};const Ve=(0,u.A)(je,[["render",de],["__scopeId","data-v-0d415b8d"]]);var $e=Ve,xe={name:"TransaccionCard",props:{transaccion:Object},components:{DetalleTransaccion:$e},data(){return{idTransaccion:null,detalleTransaccion:[],bandera:!1}},methods:{async detalleId(a){this.idTransaccion=a;try{const a=await H.getTransaction(this.idTransaccion);this.detalleTransaccion=a.data,this.bandera=!0;const e=this.detalleTransaccion.datetime,t=e.replace("T","/").replace("Z","");this.detalleTransaccion.datetime=t}catch(e){console.error(e)}},cerrarTransaccion(){this.bandera=!1}}};const Me=(0,u.A)(xe,[["render",ee]]);var De=Me,Oe={name:"MovimientosList",components:{TransaccionCard:De},data(){return{transacciones:[],detalleTransaccion:null,idTransaccion:null,cargando:!0}},created(){this.mostrarTransacciones()},methods:{async mostrarTransacciones(){try{const a=await H.getTransactions();a.data.length>0?this.transacciones=a.data:console.log("No hay transacciones")}catch(a){console.log(a)}finally{this.cargando=!1}}}};const Qe=(0,u.A)(Oe,[["render",Ka],["__scopeId","data-v-d5ceaa16"]]);var We=Qe;const Ne=a=>((0,o.Qi)("data-v-de19ab2c"),a=a(),(0,o.jt)(),a),Ue={class:"conteiner-general"},Be={class:"conteiner-analisis-estado"},Ge=Ne((()=>(0,o.Lk)("h2",null,"Fondos de la cuenta",-1))),Re=Ne((()=>(0,o.Lk)("div",{class:"titulosEstadoAtual"},[(0,o.Lk)("p",null,"Criptomoneda"),(0,o.Lk)("p",null,"Cantidad"),(0,o.Lk)("p",null,"Dinero")],-1))),Ke={key:0},ze=Ne((()=>(0,o.Lk)("h4",{class:"verificando"},"Cargando...",-1))),He=[ze],qe={key:1},Je={class:"container-total"},Ye=Ne((()=>(0,o.Lk)("p",{class:"titulo-total"},"Total",-1))),Ze={class:"precio-total"},at={key:2},et=Ne((()=>(0,o.Lk)("h4",{class:"verificando"},"No tienes transacciones realizadas",-1))),tt=[et],nt={class:"container-Graficos"};function ot(a,e,t,n,c,s){const i=(0,o.g2)("GraficosDeEstado");return(0,o.uX)(),(0,o.CE)("div",Ue,[(0,o.Lk)("div",Be,[Ge,Re,c.cargando?((0,o.uX)(),(0,o.CE)("div",Ke,He)):c.cantidadesTotales.length>0?((0,o.uX)(),(0,o.CE)("div",qe,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(c.cantidadesTotales,((a,e)=>((0,o.uX)(),(0,o.CE)("div",{class:"datosDeEstado",key:e},[(0,o.Lk)("p",null,(0,r.v_)(a.nombre),1),(0,o.Lk)("p",null,(0,r.v_)(a.cantidad),1),(0,o.Lk)("p",null,"$ "+(0,r.v_)(a.precioTotal),1)])))),128)),(0,o.Lk)("div",Je,[Ye,(0,o.Lk)("p",Ze,"$ "+(0,r.v_)(s.mostrarTotal),1)])])):((0,o.uX)(),(0,o.CE)("div",at,tt))]),(0,o.Lk)("div",nt,[(0,o.bF)(i,{cantidadesTotales:c.cantidadesTotales},null,8,["cantidadesTotales"])])])}const rt={class:"contenedor-graficos"},ct={key:0,class:"cargando"},st={key:1,class:"cargando"};function it(a,e,t,n,c,s){return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",rt,[(0,o.Lk)("canvas",{id:"myChart",style:(0,r.Tr)({display:c.display1})},null,4),(0,o.Lk)("canvas",{id:"myChart2",style:(0,r.Tr)({display:c.display2})},null,4),c.cargando?((0,o.uX)(),(0,o.CE)("p",ct,"Cargando Graficos...")):(0,o.Q3)("",!0),c.cargando1?((0,o.uX)(),(0,o.CE)("p",st," No hay transacciones como para mostrar los graficos ")):(0,o.Q3)("",!0)]),(0,o.Lk)("i",{class:"fa-solid fa-chevron-right",onClick:e[0]||(e[0]=a=>s.cambiarGrafico())})],64)}var dt=t(3456),lt={name:"GraficosDeEstado",props:{cantidadesTotales:Object},data(){return{grafico:!0,display1:"block",display2:"none",cargando:!0,cargando1:!1}},mounted(){setTimeout((()=>{try{this.cantidadesTotales.length>0?(this.renderizandoGrafico(),this.renderizandoGrafico2()):this.cargando1=!0}catch(a){console.log(a)}finally{this.cargando=!1}}),4500)},methods:{cambiarGrafico(){"block"===this.display1?(this.display1="none",this.display2="block",console.log(this.display1)):(this.display1="block",this.display2="none")},renderizandoGrafico(){const a=document.getElementById("myChart"),e=this.cantidadesTotales.map((a=>a.nombre)),t=this.cantidadesTotales.map((a=>a.precioTotal));new dt.Ay(a,{type:"bar",data:{labels:e,datasets:[{label:"Cantidad",data:t,backgroundColor:"rgba(54, 100, 235, 0.5)",borderColor:"rgba(50, 90, 200, 1)",borderWidth:1.7}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0}}}})},renderizandoGrafico2(){const a=document.getElementById("myChart2"),e=this.cantidadesTotales.map((a=>a.nombre)),t=this.cantidadesTotales.map((a=>a.cantidad));new dt.Ay(a,{type:"doughnut",data:{labels:e,datasets:[{label:"Cantidad",data:t,backgroundColor:["rgba(54, 100, 235, 0.7)","rgba(100, 100, 100, 0.7)","rgba(0, 255, 255, 0.6)","rgba(128, 0, 128, 0.7)","rgba(255, 0, 0, 0.7)","rgba(0, 255, 0, 0.7)","rgba(255, 0, 255, 0.7)","rgba(0, 0, 0, 0.7)","rgba(0, 155, 255, 0.7)","rgba(255, 0, 100, 0.7)"],borderColor:"rgba(50, 90, 200, 1)",borderWidth:1.7}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0}}}})}}};const ut=(0,u.A)(lt,[["render",it],["__scopeId","data-v-36775582"]]);var pt=ut,ht={name:"analisisEstado",components:{GraficosDeEstado:pt},data(){return{dineroTotal:0,cantidadesTotales:[],cargando:!0}},created(){this.obtenerYVerificarCantidades()},methods:{async obtenerYVerificarCantidades(){try{const a=await this.obtenerNombresCriptomonedas(),e=await this.verificarCant(a);console.log(e)}catch(a){console.error("Error al obtener y verificar cantidades:",a)}},async obtenerNombresCriptomonedas(){try{const a=await H.getTransactions(),e=a.data,t=[];for(let n=0;n<e.length;n++){const a=e[n].crypto_code;t.includes(a)||t.push(a)}return t}catch(a){return console.error("Error al obtener las transacciones:",a),[]}},async verificarCant(a){try{const e=await H.getTransactions(),t=e.data;for(let n of a){let a=0,e=0;const o=await H.getPrecios().get(`/binance/${n}/ars`);a=o.data.totalBid.toFixed(2);for(let r of t)r.crypto_code===n&&("purchase"===r.action?e+=r.crypto_amount:"sale"===r.action&&(e-=r.crypto_amount));if(e>0){const t=e*parseFloat(a);let o=parseFloat(t.toFixed(2));this.dineroTotal+=o,this.cantidadesTotales.push({nombre:n,cantidad:e.toFixed(2),precioTotal:o})}}}catch(e){console.error("Error al obtener y verificar cantidades:",e)}finally{this.cargando=!1}}},computed:{mostrarTotal(){return this.dineroTotal.toFixed(2)}}};const mt=(0,u.A)(ht,[["render",ot],["__scopeId","data-v-de19ab2c"]]);var bt=mt;const vt=a=>((0,o.Qi)("data-v-9bf34f60"),a=a(),(0,o.jt)(),a),kt={class:"conteiner-analisis-inversion"},yt=vt((()=>(0,o.Lk)("h2",null,"Inversiones",-1))),Ct=vt((()=>(0,o.Lk)("div",{class:"titulosAnalisisInversion"},[(0,o.Lk)("p",null,"Criptomoneda"),(0,o.Lk)("p",null,"Resultado")],-1))),ft={key:0,class:"cargando"},gt={class:"nombreCrypto"},Lt={key:0,class:"resultadoPositivo"},Tt={key:1,class:"resultadoNegativo"},_t={key:2,class:"cargando"};function Et(a,e,t,n,c,s){return(0,o.uX)(),(0,o.CE)("div",kt,[yt,Ct,c.cargando?((0,o.uX)(),(0,o.CE)("p",ft,"Cargando inversiones...")):this.resultadosTotales.length>0?((0,o.uX)(!0),(0,o.CE)(o.FK,{key:1},(0,o.pI)(c.resultadosTotales,((a,e)=>((0,o.uX)(),(0,o.CE)("div",{key:e,class:"datosAnalisis"},[(0,o.Lk)("p",gt,(0,r.v_)(a.nombre),1),a.resultadoTotal>=0?((0,o.uX)(),(0,o.CE)("p",Lt," $ "+(0,r.v_)(a.resultadoTotal),1)):a.resultadoTotal<0?((0,o.uX)(),(0,o.CE)("p",Tt," $ "+(0,r.v_)(a.resultadoTotal),1)):(0,o.Q3)("",!0)])))),128)):((0,o.uX)(),(0,o.CE)("p",_t,"No hay inversiones"))])}var Ft={name:"analisisDeInversion",components:{},data(){return{dineroTotal:0,resultadosTotales:[],cargando:!0}},created(){this.obtenerYVerificarCantidades()},methods:{async obtenerYVerificarCantidades(){try{const a=await this.obtenerNombresCriptomonedas(),e=await this.verificarCant(a);console.log(e)}catch(a){console.error("Error al obtener y verificar cantidades:",a)}finally{this.cargando=!1}},async obtenerNombresCriptomonedas(){try{const a=await H.getTransactions(),e=a.data,t=[];for(let n=0;n<e.length;n++){const a=e[n].crypto_code;t.includes(a)||t.push(a)}return t}catch(a){return console.error("Error al obtener las transacciones:",a),[]}},async verificarCant(a){try{const e=await H.getTransactions(),t=e.data;for(let n of a){let a=0,e=0,o=0;const r=await H.getPrecios().get(`/binance/${n}/ars`);a=parseFloat(r.data.totalBid);for(let c of t)c.crypto_code===n&&("purchase"===c.action?(e+=c.crypto_amount,o+=parseFloat(c.money)):"sale"===c.action&&(e-=c.crypto_amount,o+=parseFloat(c.money)));if(e>0){const t=e*a,r=t-o,c=parseFloat(r.toFixed(2));this.resultadosTotales.push({nombre:n,resultadoTotal:c})}}console.log(this.resultadosTotales)}catch(e){console.error("Error al obtener y verificar cantidades:",e)}}}};const St=(0,u.A)(Ft,[["render",Et],["__scopeId","data-v-9bf34f60"]]);var It=St;const Xt=[{path:"/",name:"SigIn",component:ya},{path:"/precioList",name:"PrecioList",component:Z},{path:"/transacciones",name:"Transacciones",component:Da},{path:"/movimientos",name:"Movimientos",component:We},{path:"/analisisEstado",name:"AnalisisEstado",component:bt},{path:"/analisisDeInversion",name:"AnalisisDeInversion",component:It}],At=(0,X.aE)({history:(0,X.LA)("/TrabajoFinal-Lab3/"),routes:Xt});var Pt=At,wt=(0,q.y$)({state:{nombreCryptos:["btc","eth","doge","usdt","usdc","avax","bnb","ada","sol","dai"],nombreCryptosC:["Bitcoin","Ethereum"," Dogecoin","USD Tether","USD Coin","Avalanche","Binance Coin","Cardano"," Solana","Dai"]},mutations:{},getters:{},actions:{},modules:{}});(0,n.Ef)(I).use(wt).use(Pt).mount("#app")}},e={};function t(n){var o=e[n];if(void 0!==o)return o.exports;var r=e[n]={exports:{}};return a[n].call(r.exports,r,r.exports,t),r.exports}t.m=a,function(){var a=[];t.O=function(e,n,o,r){if(!n){var c=1/0;for(l=0;l<a.length;l++){n=a[l][0],o=a[l][1],r=a[l][2];for(var s=!0,i=0;i<n.length;i++)(!1&r||c>=r)&&Object.keys(t.O).every((function(a){return t.O[a](n[i])}))?n.splice(i--,1):(s=!1,r<c&&(c=r));if(s){a.splice(l--,1);var d=o();void 0!==d&&(e=d)}}return e}r=r||0;for(var l=a.length;l>0&&a[l-1][2]>r;l--)a[l]=a[l-1];a[l]=[n,o,r]}}(),function(){t.n=function(a){var e=a&&a.__esModule?function(){return a["default"]}:function(){return a};return t.d(e,{a:e}),e}}(),function(){t.d=function(a,e){for(var n in e)t.o(e,n)&&!t.o(a,n)&&Object.defineProperty(a,n,{enumerable:!0,get:e[n]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(a){if("object"===typeof window)return window}}()}(),function(){t.o=function(a,e){return Object.prototype.hasOwnProperty.call(a,e)}}(),function(){t.r=function(a){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})}}(),function(){var a={524:0};t.O.j=function(e){return 0===a[e]};var e=function(e,n){var o,r,c=n[0],s=n[1],i=n[2],d=0;if(c.some((function(e){return 0!==a[e]}))){for(o in s)t.o(s,o)&&(t.m[o]=s[o]);if(i)var l=i(t)}for(e&&e(n);d<c.length;d++)r=c[d],t.o(a,r)&&a[r]&&a[r][0](),a[r]=0;return t.O(l)},n=self["webpackChunktrabajofinal_lab3"]=self["webpackChunktrabajofinal_lab3"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=t.O(void 0,[504],(function(){return t(7762)}));n=t.O(n)})();
//# sourceMappingURL=app.15008954.js.map